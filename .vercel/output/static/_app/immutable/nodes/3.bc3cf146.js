import{S as st,i as ot,s as nt,k as p,q as x,a as A,l as f,m as b,r as P,h as c,c as S,n as e,b as q,D as l,E as F,K as it,L as ct}from"../chunks/index.65d03eb6.js";import{p as ut}from"../chunks/parse.bee59afc.js";import{j as pt,k as ft}from"../chunks/singletons.462450b0.js";const dt=pt("invalidate_all");function mt(i){return ft.apply_action(i)}function bt(i){const t=JSON.parse(i);return t.data&&(t.data=ut(t.data)),t}function ht(i){return HTMLElement.prototype.cloneNode.call(i)}function _t(i,t=()=>{}){const o=async({action:a,result:d,reset:r})=>{d.type==="success"&&(r!==!1&&HTMLFormElement.prototype.reset.call(i),await dt()),(location.origin+location.pathname===a.origin+a.pathname||d.type==="redirect"||d.type==="error")&&mt(d)};async function s(a){var y,g,w;a.preventDefault();const d=new URL((y=a.submitter)!=null&&y.hasAttribute("formaction")?a.submitter.formAction:ht(i).action),r=new FormData(i),_=(g=a.submitter)==null?void 0:g.getAttribute("name");_&&r.append(_,((w=a.submitter)==null?void 0:w.getAttribute("value"))??"");const u=new AbortController;let h=!1;const v=await t({action:d,cancel:()=>h=!0,controller:u,get data(){return r},formData:r,get form(){return i},formElement:i,submitter:a.submitter})??o;if(h)return;let n;try{const E=await fetch(d,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:r,signal:u.signal});n=bt(await E.text()),n.type==="error"&&(n.status=E.status)}catch(E){if((E==null?void 0:E.name)==="AbortError")return;n={type:"error",error:E}}v({action:d,get data(){return r},formData:r,get form(){return i},formElement:i,update:E=>o({action:d,result:n,reset:E==null?void 0:E.reset}),result:n})}return HTMLFormElement.prototype.addEventListener.call(i,"submit",s),{destroy(){HTMLFormElement.prototype.removeEventListener.call(i,"submit",s)}}}function yt(i){let t,o,s,a,d,r,_,u,h,k,v,n,y,g,w,E,M,N,C,B,U,R,V,T,j,O,D,z,J,L,K,I,X,Y;return{c(){t=p("form"),o=p("label"),s=p("span"),a=x("Name"),d=A(),r=p("input"),_=A(),u=p("label"),h=p("span"),k=x("location"),v=A(),n=p("input"),y=A(),g=p("label"),w=p("span"),E=x("Visit Offerings"),M=A(),N=p("input"),C=A(),B=p("label"),U=p("span"),R=x("Strength"),V=A(),T=p("input"),j=A(),O=p("label"),D=p("span"),z=x("other"),J=A(),L=p("textarea"),K=A(),I=p("input"),this.h()},l(H){t=f(H,"FORM",{method:!0});var m=b(t);o=f(m,"LABEL",{for:!0,class:!0});var G=b(o);s=f(G,"SPAN",{class:!0});var Q=b(s);a=P(Q,"Name"),Q.forEach(c),G.forEach(c),d=S(m),r=f(m,"INPUT",{type:!0,name:!0,"aria-label":!0,placeholder:!0,autocomplete:!0,class:!0}),_=S(m),u=f(m,"LABEL",{for:!0,class:!0});var W=b(u);h=f(W,"SPAN",{class:!0});var Z=b(h);k=P(Z,"location"),Z.forEach(c),W.forEach(c),v=S(m),n=f(m,"INPUT",{type:!0,name:!0,"aria-label":!0,placeholder:!0,autocomplete:!0,class:!0}),y=S(m),g=f(m,"LABEL",{for:!0,class:!0});var $=b(g);w=f($,"SPAN",{class:!0});var tt=b(w);E=P(tt,"Visit Offerings"),tt.forEach(c),$.forEach(c),M=S(m),N=f(m,"INPUT",{type:!0,name:!0,"aria-label":!0,placeholder:!0,autocomplete:!0,class:!0}),C=S(m),B=f(m,"LABEL",{for:!0,class:!0});var et=b(B);U=f(et,"SPAN",{class:!0});var at=b(U);R=P(at,"Strength"),at.forEach(c),et.forEach(c),V=S(m),T=f(m,"INPUT",{type:!0,name:!0,"aria-label":!0,placeholder:!0,autocomplete:!0,class:!0}),j=S(m),O=f(m,"LABEL",{for:!0,class:!0});var lt=b(O);D=f(lt,"SPAN",{class:!0});var rt=b(D);z=P(rt,"other"),rt.forEach(c),lt.forEach(c),J=S(m),L=f(m,"TEXTAREA",{name:!0,"aria-label":!0,placeholder:!0,rows:!0,autocomplete:!0,class:!0}),b(L).forEach(c),K=S(m),I=f(m,"INPUT",{type:!0,class:!0}),m.forEach(c),this.h()},h(){e(s,"class","label-text"),e(o,"for","name"),e(o,"class","label"),e(r,"type","text"),e(r,"name","name"),e(r,"aria-label","name"),e(r,"placeholder","Enter your name"),r.required=!0,e(r,"autocomplete","off"),e(r,"class","input input-bordered w-full"),e(h,"class","label-text"),e(u,"for","location"),e(u,"class","label"),e(n,"type","location"),e(n,"name","location"),e(n,"aria-label","location"),e(n,"placeholder","NYC"),n.required=!0,e(n,"autocomplete","off"),e(n,"class","input input-bordered w-full"),e(w,"class","label-text"),e(g,"for","visit_offerings"),e(g,"class","label"),e(N,"type","visit_offerings"),e(N,"name","visit_offerings"),e(N,"aria-label","visit_offerings"),e(N,"placeholder","Office"),N.required=!0,e(N,"autocomplete","off"),e(N,"class","input input-bordered w-full"),e(U,"class","label-text"),e(B,"for","strength"),e(B,"class","label"),e(T,"type","strength"),e(T,"name","strength"),e(T,"aria-label","strength"),e(T,"placeholder","3"),T.required=!0,e(T,"autocomplete","off"),e(T,"class","input input-bordered w-full"),e(D,"class","label-text"),e(O,"for","other"),e(O,"class","label"),e(L,"name","other"),e(L,"aria-label","other"),e(L,"placeholder","Anything Else?"),L.required=!0,e(L,"rows","3"),e(L,"autocomplete","off"),e(L,"class","textarea input-bordered w-full mb-10"),e(I,"type","submit"),I.value="Submit to Airtable",e(I,"class","btn btn-primary w-full"),e(t,"method","POST")},m(H,m){q(H,t,m),l(t,o),l(o,s),l(s,a),l(t,d),l(t,r),l(t,_),l(t,u),l(u,h),l(h,k),l(t,v),l(t,n),l(t,y),l(t,g),l(g,w),l(w,E),l(t,M),l(t,N),l(t,C),l(t,B),l(B,U),l(U,R),l(t,V),l(t,T),l(t,j),l(t,O),l(O,D),l(D,z),l(t,J),l(t,L),l(t,K),l(t,I),X||(Y=it(_t.call(null,t)),X=!0)},p:F,d(H){H&&c(t),X=!1,Y()}}}function Et(i){let t,o,s,a,d,r,_;return{c(){t=p("p"),o=x("Submission success."),s=A(),a=p("button"),d=x("Submit another?"),this.h()},l(u){t=f(u,"P",{});var h=b(t);o=P(h,"Submission success."),h.forEach(c),s=S(u),a=f(u,"BUTTON",{"data-sveltekit-reload":!0,class:!0});var k=b(a);d=P(k,"Submit another?"),k.forEach(c),this.h()},h(){e(a,"data-sveltekit-reload",""),e(a,"class","btn btn-primary w-full")},m(u,h){q(u,t,h),l(t,o),q(u,s,h),q(u,a,h),l(a,d),r||(_=ct(a,"click",i[2]),r=!0)},p:F,d(u){u&&c(t),u&&c(s),u&&c(a),r=!1,_()}}}function vt(i){let t,o;return{c(){t=p("p"),o=x("Submission failed.")},l(s){t=f(s,"P",{});var a=b(t);o=P(a,"Submission failed."),a.forEach(c)},m(s,a){q(s,t,a),l(t,o)},p:F,d(s){s&&c(t)}}}function gt(i){let t,o;return{c(){t=p("p"),o=x("Submitting...")},l(s){t=f(s,"P",{});var a=b(t);o=P(a,"Submitting..."),a.forEach(c)},m(s,a){q(s,t,a),l(t,o)},p:F,d(s){s&&c(t)}}}function At(i){let t,o,s,a,d,r,_,u;function h(n,y){return n[0]==="submitting"?gt:n[0]==="failed"?vt:n[0]==="success"?Et:yt}let k=h(i),v=k(i);return{c(){t=p("div"),o=p("h2"),s=x("Action"),a=A(),v.c(),d=A(),r=p("p"),_=p("a"),u=x("Back"),this.h()},l(n){t=f(n,"DIV",{class:!0});var y=b(t);o=f(y,"H2",{});var g=b(o);s=P(g,"Action"),g.forEach(c),a=S(y),v.l(y),d=S(y),r=f(y,"P",{});var w=b(r);_=f(w,"A",{href:!0,"data-sveltekit-reload":!0,class:!0});var E=b(_);u=P(E,"Back"),E.forEach(c),w.forEach(c),y.forEach(c),this.h()},h(){e(_,"href","/"),e(_,"data-sveltekit-reload",""),e(_,"class","btn btn-secondary w-full !text-secondary-content"),e(t,"class","mx-auto max-w-xl")},m(n,y){q(n,t,y),l(t,o),l(o,s),l(t,a),v.m(t,null),l(t,d),l(t,r),l(r,_),l(_,u)},p(n,[y]){k===(k=h(n))&&v?v.p(n,y):(v.d(1),v=k(n),v&&(v.c(),v.m(t,d)))},i:F,o:F,d(n){n&&c(t),v.d()}}}function St(i,t,o){let s,{form:a}=t;const d=()=>{o(0,s=null)};return i.$$set=r=>{"form"in r&&o(1,a=r.form)},i.$$.update=()=>{var r;i.$$.dirty&2&&o(0,s=(r=a==null?void 0:a.body)==null?void 0:r.message)},[s,a,d]}class xt extends st{constructor(t){super(),ot(this,t,St,At,nt,{form:1})}}export{xt as component};
